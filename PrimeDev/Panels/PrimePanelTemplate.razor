@inject PrimeManager manager
@inject PrimeFileService primefiles

<MudGrid>

</MudGrid>

@code {
	private PrimeCalculator prime;

	protected override void OnInitialized()
	{
		if (manager.IsInitialized)
		{
			GetPrime();
		}

		manager.OnChange += ManagerChanged;
	}

	private void ManagerChanged()
	{
		if(this.prime == null)
			GetPrime();

		StateHasChanged();
	}

	private void GetPrime()
	{
		this.prime = manager.GetCalculator();
	}

	public void Dispose()
	{
		manager.OnChange -= ManagerChanged;
	}

	async void Prime_Connected(object? sender, EventArgs e)
	{
		
	}

}
